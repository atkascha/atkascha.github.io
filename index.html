<html>
  <body>
    <title>Atkascha</title>

    <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" type="imagae/x-icon" href="/public/images/favicon.ico">
    <link rel="stylesheet" href="./style.css">
  </body>
  <body>

    <div class="container"></div>
    <div class="icons">
      <a target="_blank" href="https://twitter.com/atkascha_"><img src="./public/images/site/v2/icons/twitter.png" /></a>
      <a target="_blank" href="https://twitch.tv/atkascha_"><img src="./public/images/site/v2/icons/twitch.png" /></a>
      <a target="_blank" href="https://github.com/atkascha"><img src="./public/images/site/v2/icons/github.png" /></a>
    </div>

    <script>

      // constants
      const CARD_CONTAINER = document.querySelector('.container');
      const PROJECTS = [
        {
          title: 'anki',
          background: {
            firstFrame: './public/images/site/v2/rei0.gif',
            gif: './public/images/site/v2/rei.gif'
          },
          link: 'https://atkascha.gg/anki'
        },
        {
          title: 'balls',
          background: {
            firstFrame: './public/images/site/v2/kissshot0.gif',
            gif: './public/images/site/v2/kissshot.gif'
          },
          link: 'https://atkascha.gg/balls'
        },
        {
          title: 'msg',
          background: {
            firstFrame: './public/images/site/v2/re-l0.gif',
            gif: './public/images/site/v2/re-l.gif'
          },
          link: 'https://twitter.com/atkascha_/status/1601118660101144576'
        },
        {
          title: 'pod',
          background: {
            firstFrame: './public/images/site/v2/faye0.gif',
            gif: './public/images/site/v2/faye.gif'
          },
          link: 'https://atkascha.gg/pod'
        }
      ];

      class Card {
        constructor({ title, background, link }) {
          this.title = title;
          this.background = background;
          this.link = link;

          this.#buildHtml();
        }

        setListeners() {
          this.html.addEventListener('mouseover', function(_e) {
            this.html.style.backgroundImage = `url(${this.background.gif})`
          }.bind(this));

          this.html.addEventListener('mouseleave', function (_e) {
            this.html.style.backgroundImage = `url(${this.background.firstFrame})`
          }.bind(this));

          this.html.addEventListener('click', function(_e) {
            window.open(this.link, '_blank');
          }.bind(this));
        }

        #buildHtml() {
          let card = document.createElement('div');
          card.className = 'card';
          card.style.backgroundImage = `url(${this.background.firstFrame})`;

          let title = document.createElement('div');
          title.className = 'title';
          title.innerText = this.title;
          card.appendChild(title);

          this.html = card;
        }
      }

      // run
      for (let i = 0; i < PROJECTS.length; i++) {
        let project = PROJECTS[i];
        let card = new Card(project);
        CARD_CONTAINER.appendChild(card.html);

        card.setListeners();
      }

    </script>

  </body>
</html>
